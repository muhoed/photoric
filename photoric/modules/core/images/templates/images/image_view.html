<!-- Home page -->
{% extends 'base_layout.html' %}
{% from 'views/_views_macro.html' import render_albums, render_images, render_contrib_view with context %}

        {% block topnavbars %}
        
        {{ super() }}
        
        
        {% endblock %}

    {% block header %}
        <div class="text-success"><h4>{{ title }}</h4></div>
        {{ debug_message }}
    {% endblock %}

    {% block main %}
    <div class="d-flex flex-nowrap flex-column h-100 bg-dark justify-content-between align-item-center">  
        <div class="h-100 flex-grow">        
            <!-- Image carousel with switched off sliding -->
            <div id="ImageViewCarousel" class="carousel slide carousel-fade" data-interval="false" data-ride="" data-wrap="false">
              
              {% for image in siblings %}
                {# if (current_user.is_authenticated and authorize.read(image)) or image.is_published #}
                  <div class="carousel-inner">
                    <div class="carousel-item {% if image.id == current_image.id %}active{% endif %}" data-interval="false">
                      <img src="{{ image.url }}" class="d-block w-100" alt="{{ image.name }}">
                    </div>
                  </div>
                {# endif #}
              {% endfor %}
              
              <a class="carousel-control-prev" href="#ImageViewCarousel" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#ImageViewCarousel" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
            </div>
        </div>
    </div>

    {% endblock %}
    
    {% block modals %}

    {% endblock %}

    {% block tail_js %}
        {{ super() }}
        <script src="{{ url_for('views.static', filename='views.js') }}"></script>
    {% endblock %}
